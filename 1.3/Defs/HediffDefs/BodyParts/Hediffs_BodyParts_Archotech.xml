<?xml version="1.0" encoding="UTF-8"?>
<Defs>
    <ThingDef Name="BodyPartMGRBase" ParentName="BodyPartBase" Abstract="True">
        <description>Personal Evasive Robotic Add-Ons. Each bionic part contains within it a micro gravitational core which are attracted to each other, allowing the user to...in the most literal sense "bisect themselves" in order to avoid injuries.\nP.E.R.A. bionics come in both arm and leg add-on's</description>
        <techLevel>Spacer</techLevel>
        <thingCategories>
            <li>BodyPartsArchotech</li>
        </thingCategories>
        <graphicData>
            <texPath>Things/Item/Bionic/BodyPart</texPath>
            <graphicClass>Graphic_Single</graphicClass>
            <drawSize>1</drawSize>
        </graphicData>
        <tradeTags>
            <li>Bionic</li>
        </tradeTags>
        <techHediffsTags>
            <li>Advanced</li>
        </techHediffsTags>
        <statBases>
            <WorkToMake>26000</WorkToMake>
            <DeteriorationRate>0</DeteriorationRate>
        </statBases>
        <costList>
            <Steel>50</Steel>
            <Plasteel>50</Plasteel>
            <ComponentSpacer>5</ComponentSpacer>
        </costList>
        <recipeMaker>
            <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
            <workSkill>Crafting</workSkill>
            <effectWorking>Smith</effectWorking>
            <soundWorking>Recipe_Smith</soundWorking>
            <unfinishedThingDef>UnfinishedHealthItemMGRBionic</unfinishedThingDef>
            <skillRequirements>
                <Crafting>12</Crafting>
            </skillRequirements>
            <researchPrerequisite>CyborgNinja</researchPrerequisite>
            <recipeUsers>
                <li>FabricationBench</li>
            </recipeUsers>
        </recipeMaker>
        <comps>
            <li Class="CompProperties_Glower">
                <glowRadius>2</glowRadius>
                <glowColor>(255,0,0,0)</glowColor>
            </li>
        </comps>
    </ThingDef>
	
    <!-- Monsoon arm -->
    <HediffDef ParentName="AddedBodyPartBase">
        <defName>MonsoonArm</defName>
        <label>monsoon arm</label>
        <labelNoun>an Monsoon arm</labelNoun>
        <description>An installed Monsoon arm.</description>
        <descriptionHyperlinks>
            <ThingDef>MonsoonArm</ThingDef>
        </descriptionHyperlinks>
		<initialSeverity>1</initialSeverity>
		<isBad>false</isBad>
		<stages>
		  <li>
			<statOffsets>
			  <IncomingDamageFactor>-0.2</IncomingDamageFactor>
			  <MeleeDodgeChance>2</MeleeDodgeChance>
			  <ArmorRating_Sharp>1.2</ArmorRating_Sharp>
			  <ArmorRating_Blunt>1.2</ArmorRating_Blunt>
			</statOffsets>
		  </li>
		</stages>
        <comps>
            <li Class="HediffCompProperties_VerbGiver">
                <tools>
                    <li>
                        <label>fist</label>
                        <capacities>
                            <li>Blunt</li>
                        </capacities>
                        <power>35</power>
                        <cooldownTime>0.75</cooldownTime>
                        <soundMeleeHit>MeleeHit_BionicPunch</soundMeleeHit>
                        <soundMeleeMiss>MeleeMiss_BionicPunch</soundMeleeMiss>
                    </li>
                </tools>
            </li>
        </comps>
        <spawnThingOnRemoved>MonsoonArm</spawnThingOnRemoved>
        <addedPartProps>
            <solid>true</solid>
            <partEfficiency>1.80</partEfficiency>
            <betterThanNatural>true</betterThanNatural>
        </addedPartProps>
    </HediffDef>
    <ThingDef ParentName="BodyPartMGRBase">
        <defName>MonsoonArm</defName>
        <label>monsoon arm</label>
		<descriptionHyperlinks>
            <RecipeDef>InstallMonsoonArm</RecipeDef>
        </descriptionHyperlinks>
        <statBases>
            <MarketValue>2800</MarketValue>
            <Mass>4</Mass>
        </statBases>
        <thingSetMakerTags>
            <li>RewardStandardHighFreq</li>
        </thingSetMakerTags>
    </ThingDef>
    <RecipeDef ParentName="SurgeryInstallBodyPartArtificialBase">
        <defName>InstallMonsoonArm</defName>
        <label>install monsoon arm</label>
        <description>Install an Monsoon arm.</description>
        <descriptionHyperlinks>
            <ThingDef>MonsoonArm</ThingDef>
            <HediffDef>MonsoonArm</HediffDef>
        </descriptionHyperlinks>
        <jobString>Installing Monsoon arm.</jobString>
        <ingredients>
            <li>
                <filter>
                    <thingDefs>
                        <li>MonsoonArm</li>
                    </thingDefs>
                </filter>
                <count>1</count>
            </li>
        </ingredients>
        <fixedIngredientFilter>
            <thingDefs>
                <li>MonsoonArm</li>
            </thingDefs>
        </fixedIngredientFilter>
        <appliedOnFixedBodyParts>
            <li>Shoulder</li>
        </appliedOnFixedBodyParts>
        <addsHediff>MonsoonArm</addsHediff>
    </RecipeDef>
	<RecipeDef ParentName="SurgeryRemoveImplantBase">
		<defName>RemoveMonsoonArm</defName>
		<label>remove monsoon arm</label>
		<description>Remove monsoon arm.</description>
		<descriptionHyperlinks>
		  <ThingDef>MonsoonArm</ThingDef>
		  <HediffDef>MonsoonArm</HediffDef>
		</descriptionHyperlinks>
		<jobString>Removing monsoon arm.</jobString>
		<removesHediff>MonsoonArm</removesHediff>
	</RecipeDef>
	
    <!-- Monsoon leg -->
    <HediffDef ParentName="AddedBodyPartBase">
        <defName>MonsoonLeg</defName>
        <label>monsoon leg</label>
        <labelNoun>an Monsoon leg</labelNoun>
        <description>An installed Monsoon leg.</description>
        <descriptionHyperlinks>
            <ThingDef>MonsoonLeg</ThingDef>
        </descriptionHyperlinks>
		<initialSeverity>1</initialSeverity>
		<isBad>false</isBad>
		<stages>
		  <li>
			<statOffsets>
			  <IncomingDamageFactor>-0.2</IncomingDamageFactor>
			  <MeleeDodgeChance>2</MeleeDodgeChance>
			  <ArmorRating_Sharp>1.2</ArmorRating_Sharp>
			  <ArmorRating_Blunt>1.2</ArmorRating_Blunt>
			  <MoveSpeed>0.5</MoveSpeed>
			</statOffsets>
		  </li>
		</stages>		
        <comps>
            <li Class="HediffCompProperties_VerbGiver">
                <tools>
                    <li>
                        <label>leg</label>
                        <capacities>
                            <li>Blunt</li>
                        </capacities>
                        <power>15</power>
                        <cooldownTime>0.8</cooldownTime>
                        <soundMeleeHit>MeleeHit_BionicPunch</soundMeleeHit>
                        <soundMeleeMiss>MeleeMiss_BionicPunch</soundMeleeMiss>
                    </li>
                </tools>
            </li>
        </comps>
        <spawnThingOnRemoved>MonsoonLeg</spawnThingOnRemoved>
        <addedPartProps>
            <solid>true</solid>
            <partEfficiency>1.80</partEfficiency>
            <betterThanNatural>true</betterThanNatural>
        </addedPartProps>
    </HediffDef>
    <ThingDef ParentName="BodyPartMGRBase">
        <defName>MonsoonLeg</defName>
        <label>monsoon leg</label>
		<descriptionHyperlinks>
            <RecipeDef>InstallMonsoonLeg</RecipeDef>
        </descriptionHyperlinks>
        <statBases>
            <MarketValue>2800</MarketValue>
            <Mass>7</Mass>
        </statBases>
        <thingSetMakerTags>
            <li>RewardStandardHighFreq</li>
        </thingSetMakerTags>
    </ThingDef>
    <RecipeDef ParentName="SurgeryInstallBodyPartArtificialBase">
        <defName>InstallMonsoonLeg</defName>
        <label>install monsoon leg</label>
        <description>Install an Monsoon leg.</description>
        <descriptionHyperlinks>
            <ThingDef>MonsoonLeg</ThingDef>
            <HediffDef>MonsoonLeg</HediffDef>
        </descriptionHyperlinks>
        <jobString>Installing Monsoon leg.</jobString>
        <ingredients>
            <li>
                <filter>
                    <thingDefs>
                        <li>MonsoonLeg</li>
                    </thingDefs>
                </filter>
                <count>1</count>
            </li>
        </ingredients>
        <fixedIngredientFilter>
            <thingDefs>
                <li>MonsoonLeg</li>
            </thingDefs>
        </fixedIngredientFilter>
        <appliedOnFixedBodyParts>
            <li>Leg</li>
        </appliedOnFixedBodyParts>
        <addsHediff>MonsoonLeg</addsHediff>
    </RecipeDef>
	<RecipeDef ParentName="SurgeryRemoveImplantBase">
		<defName>RemoveMonsoonLeg</defName>
		<label>remove monsoon leg</label>
		<description>Remove monsoon leg.</description>
		<descriptionHyperlinks>
		  <ThingDef>MonsoonLeg</ThingDef>
		  <HediffDef>MonsoonLeg</HediffDef>
		</descriptionHyperlinks>
		<jobString>Removing monsoon leg.</jobString>
		<removesHediff>MonsoonLeg</removesHediff>
	</RecipeDef>
	
    <!-- NanomachineCore -->
	<AbilityDef Name="NanomachineCoreUnleashedBase">
		<defName>NanomachineCoreUnleashed</defName>
		<label>Nano\nMachines\nUnleashed</label>
		<description>Unleash the full power of the nanomachine core. Draining all power from all batteries and gaining power equivalent to power absorbed, creates a solar flare event also preventing continuous power gains.</description>
		<targetRequired>False</targetRequired>
		<gizmoClass>Command_Ability</gizmoClass>
		<iconPath>UI/explosion</iconPath>
		<stunTargetWhileCasting>True</stunTargetWhileCasting>
		<verbProperties>
			<verbClass>MGRRimworld.Effect_NanomachineCore</verbClass>
			<range>-1</range>
			<warmupTime>2</warmupTime>
			<defaultCooldownTime>5</defaultCooldownTime>
		</verbProperties>
		<displayGizmoWhileUndrafted>True</displayGizmoWhileUndrafted>
		<comps>
		  <li Class="CompProperties_AbilityRequiresCapacity">
			<capacity>Talking</capacity>
		  </li>
		</comps>
	</AbilityDef>
	
    <HediffDef ParentName="AddedBodyPartBase">
        <defName>NanomachineCore</defName>
		<hediffClass>MGRRimworld.MGRHediffs.Hediff_NanomachineCore</hediffClass>
        <label>nanomachine core</label>
        <labelNoun>a nanomachine core</labelNoun>
        <description>An installed nanomachine core.</description>
        <descriptionHyperlinks>
            <ThingDef>NanomachineCore</ThingDef>
        </descriptionHyperlinks>
        <spawnThingOnRemoved>NanomachineCore</spawnThingOnRemoved>
		<initialSeverity>1</initialSeverity>
		<isBad>false</isBad>
		<stages>
		  <li>
			<statOffsets>
			  <ImmunityGainSpeed>0.2</ImmunityGainSpeed>
			  <IncomingDamageFactor>-0.2</IncomingDamageFactor>
			  <MeleeDodgeChance>0.2</MeleeDodgeChance>
			  <ArmorRating_Sharp>1.2</ArmorRating_Sharp>
			  <ArmorRating_Blunt>1.2</ArmorRating_Blunt>
			  <InjuryHealingFactor>1.2</InjuryHealingFactor>
			</statOffsets>
		  </li>
		</stages>
        <addedPartProps>
            <solid>true</solid>
            <partEfficiency>1.80</partEfficiency>
            <betterThanNatural>true</betterThanNatural>
        </addedPartProps>
		<comps>
			<li Class="HediffCompProperties_GiveAbility">
				<abilityDef>NanomachineCoreUnleashed</abilityDef>
			</li>
		</comps>
    </HediffDef>
	
    <ThingDef ParentName="BodyPartMGRBase">
        <defName>NanomachineCore</defName>
        <label>nanomachine core</label>
        <description>Replacing the user's heart. This core contains millions of nanobots one-millionth of a millimeter in size. After syncing with the user's nervous system, these nanobots can be manipulated to repair damaged tissues, hardening in response to trauma, and more.\nAt a cost.\nThe first prototype was funded by and made for Admiral Armstrong of the Imperial Navy.</description>
        <descriptionHyperlinks>
            <RecipeDef>InstallNanomachineCore</RecipeDef>
        </descriptionHyperlinks>
        <costList>
            <Chemfuel>50</Chemfuel>
            <Neutroamine>50</Neutroamine>
        </costList>
    </ThingDef>
	
    <RecipeDef ParentName="SurgeryInstallBodyPartArtificialBase">
        <defName>InstallNanomachineCore</defName>
        <label>install nanomachine core</label>
        <description>Install a nanomachine core.</description>
        <descriptionHyperlinks>
            <ThingDef>NanomachineCore</ThingDef>
            <HediffDef>NanomachineCore</HediffDef>
        </descriptionHyperlinks>
        <jobString>Installing nanomachine core.</jobString>
        <ingredients>
            <li>
                <filter>
                    <thingDefs>
                        <li>NanomachineCore</li>
                    </thingDefs>
                </filter>
                <count>1</count>
            </li>
        </ingredients>
        <fixedIngredientFilter>
            <thingDefs>
                <li>NanomachineCore</li>
            </thingDefs>
        </fixedIngredientFilter>
        <appliedOnFixedBodyParts>
            <li>Heart</li>
        </appliedOnFixedBodyParts>
        <addsHediff>NanomachineCore</addsHediff>
    </RecipeDef>
	
	<RecipeDef ParentName="SurgeryRemoveImplantBase">
		<defName>RemoveNanomachineCore</defName>
		<label>remove nanomachine core</label>
		<description>Remove nanomachine core.</description>
		<descriptionHyperlinks>
		  <ThingDef>NanomachineCore</ThingDef>
		  <HediffDef>NanomachineCore</HediffDef>
		</descriptionHyperlinks>
		<jobString>Removing nanomachine core.</jobString>
		<removesHediff>NanomachineCore</removesHediff>
	</RecipeDef>
</Defs>